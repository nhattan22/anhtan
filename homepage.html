<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link rel="stylesheet" href="./assets/css/homepage.css">
    <link rel="stylesheet" href="./assets/js/homepage.js">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>


</head>
<body>
    <div class="container">
        <!-- header -->
        <div class="header">
            <div class="header_top">
                <div class="header_top__left">
                    <div class="header_top__left__hotline">
                        <div class="header_top__left__hotline_icon">
                            <box-icon name='phone' type='solid' color='#ffffff' ></box-icon>
                        </div>
                        <span class="header_top__left__hotline_title">Showroom</span>
                        <div class="header_top__left__hotline_phone">0123456789</div>
                    </div>
                    <div class="header_top__left__hotline_tech">
                        <div class="header_top__left__hotline_tech_icon">
                            <box-icon type='solid' name='brightness' color='#ffffff' ></box-icon>
                        </div>
                        <span class="header_top__left__hotline_tech_title">Kĩ thuật</span>
                        <div class="header_top__left__hotline_tech_phone">0123456789</div>
                    </div>
                </div>
                <div class="header_top__right">
                    <div class="header_top__right__login">
                        <a href="">Đăng Nhập</a>
                    </div>
                    <div class="header_top__right__register">
                        <a href="">Đăng Ký</a>
                    </div>
                </div>
            </div>
            <div class="header_center">
                <div class="header_center__logo">
                    <img  src="./assets/images/logo.png" alt="logo"/>
                </div>
                <div class="header_center__search">
                    <form action="" class="search search-pc" id="submitSearch" onsubmit="return validateMyForm()">
                        <div class="form__group">
                            <button style="padding: 0; border:none" id="btn__submit" disabled="disabled">
                                <i id="find" class='bx bx-search' onclick="handleSubmit()"></i>
                            </button>
                            <input type="text" name="key" class="inp" placeholder="Sản phẩm cần tìm" id="filter_search" autocomplete="off">
                        </div>
                        <div id="keyword__search" class="keyword__search">
                            <div class="seeAll__search">
                                <div>Tìm kiếm gần đây</div>
                            </div>
                            <div id="showKeyWord"></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- hết header -->
        <!-- navbar -->
        <div class="navbar">
            <span class="navbar__item">TRANG CHỦ</span>
            <span class="navbar__item">TRANG CHỦ</span>
            <span class="navbar__item">TRANG CHỦ</span>
            <span class="navbar__item">TRANG CHỦ</span>
            <div class="dropdown">
                <div class="navbar_dropdown">
                    <span class="dropbtn">HỖ TRỢ</span>
                    <i class="dropdown__icon fas fa-angle-down"></i>
                </div>
                <div class="dropdown-content">
                  <a class="dropdown-content__item" href="#">Link 1</a>
                  <a class="dropdown-content__item" href="#">Link 2</a>
                  <a class="dropdown-content__item" href="#">Link 3</a>
                </div>
              </div>
        </div>
        <!-- hết navbar -->
        <!-- banner slide -->
        <div class="swiper swiper_banner">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <img src="./assets/images/banner/1.jpg" />
              </div>
              <div class="swiper-slide">
                <img src="./assets/images/banner/2.jpg" />
              </div>
            </div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-pagination"></div>
        </div>
        <!-- hếtbanner slide -->

        <!-- product sân bóng đá -->
        <div class="product">
            <h2 class="product_title">SÂN BÓNG ĐÁ HỒ CHÍ MINH</h2>
            <div class="product_item">
                <div class="product_item__list">
                    <a href="" class="product_item__link">
                        <div class="product_item__img">
                            <img src="./assets/images/product/1.jpg"/>
                        </div>
                        <span class="product_item__title">Sân bóng đá cây trâm</span>
                        <div class="product_item__vote">
                            <span class="product_item__vote_num">Số người: 5</span>
                            <div class="product_item__rating">
                                <i class=" product_item__star_active fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                        <div class="product_item__price">Giá <span class="product_item__price_color">200.000đ - 400.000đ</span> / Trận</div>
                    </a>
                </div>
                <div class="product_item__list">
                    <a href="" class="product_item__link">
                        <div class="product_item__img">
                            <img src="./assets/images/product/1.jpg"/>
                        </div>
                        <span class="product_item__title">Sân bóng đá cây trâm</span>
                        <div class="product_item__vote">
                            <span class="product_item__vote_num">Số người: 5</span>
                            <div class="product_item__rating">
                                <i class=" product_item__star_active fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                        <div class="product_item__price">Giá <span class="product_item__price_color">200.000đ - 400.000đ</span> / Trận</div>
                    </a>
                </div>
                <div class="product_item__list">
                    <a href="" class="product_item__link">
                        <div class="product_item__img">
                            <img src="./assets/images/product/1.jpg"/>
                        </div>
                        <span class="product_item__title">Sân bóng đá cây trâm</span>
                        <div class="product_item__vote">
                            <span class="product_item__vote_num">Số người: 5</span>
                            <div class="product_item__rating">
                                <i class=" product_item__star_active fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                        <div class="product_item__price">Giá <span class="product_item__price_color">200.000đ - 400.000đ</span> / Trận</div>
                    </a>
                </div>
                <div class="product_item__list">
                    <a href="" class="product_item__link">
                        <div class="product_item__img">
                            <img src="./assets/images/product/1.jpg"/>
                        </div>
                        <span class="product_item__title">Sân bóng đá cây trâm</span>
                        <div class="product_item__vote">
                            <span class="product_item__vote_num">Số người: 5</span>
                            <div class="product_item__rating">
                                <i class=" product_item__star_active fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                        <div class="product_item__price">Giá <span class="product_item__price_color">200.000đ - 400.000đ</span> / Trận</div>
                    </a>
                </div>
                <div class="product_item__list">
                    <a href="" class="product_item__link">
                        <div class="product_item__img">
                            <img src="./assets/images/product/1.jpg"/>
                        </div>
                        <span class="product_item__title">Sân bóng đá cây trâm</span>
                        <div class="product_item__vote">
                            <span class="product_item__vote_num">Số người: 5</span>
                            <div class="product_item__rating">
                                <i class=" product_item__star_active fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                        <div class="product_item__price">Giá <span class="product_item__price_color">200.000đ - 400.000đ</span> / Trận</div>
                    </a>
                </div>
            </div>
        </div>
        <!-- hết product sân bóng đá -->
        <!-- pagination -->
        <div class="hompage_pagination">
            <ul class="pagination home-product__pagination">
                <li class="pagination-item">
                    <a href="" class="pagination-item__link">
                        <i class="paginaton fas fa-angle-left"></i>
                    </a>
                </li>
                <li class="pagination-item pagination-item__active">
                    <a href="" class="pagination-item__link">1</a>
                </li>
                <li class="pagination-item">
                    <a href="" class="pagination-item__link">2</a>
                </li>
                <li class="pagination-item">
                    <a href="" class="pagination-item__link">3</a>
                </li>
                <li class="pagination-item">
                    <a href="" class="pagination-item__link">4</a>
                </li>
                <li class="pagination-item">
                    <a href="" class="pagination-item__link">5</a>
                </li>
                <li class="pagination-item">
                    <a href="" class="pagination-item__link">...</a>
                </li>
                <li class="pagination-item">
                    <a href="" class="pagination-item__link">14</a>
                </li>
                <li class="pagination-item">
                    <a href="" class="pagination-item__link">
                        <i class="paginaton fas fa-angle-right"></i>
                    </a>
                </li>
            </ul>
        </div>
        <!-- hết pagination -->
        <!-- footer -->
        <!-- <div class="footer" style="width: 100%;">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3918.5115470083747!2d106.78350311494195!3d10.848642760822685!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752713216a3adf%3A0xf8b22853eea72777!2zOTcgxJAuIE1hbiBUaGnhu4duLCBIaeG7h3AgUGjDuiwgUXXhuq1uIDksIFRow6BuaCBwaOG7kSBI4buTIENow60gTWluaCwgVmnhu4d0IE5hbQ!5e0!3m2!1svi!2s!4v1655012634297!5m2!1svi!2s" 
            width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div> -->
        <div class="footer">
            <div class="footer_desc">
                <div class="footer_desc__address">
                    <div class="footer_dess__address_icon">
                        <box-icon name='location-plus' animation='tada' ></box-icon>
                    </div>
                    <span class="footer_desc__address_title">A1L2-08, 2th floor Ecolife Capitol, 58 To Huu, Trung Van</span>
                </div>
                <div class="footer_desc__email">
                    <div class="footer_dess__email_icon">
                        <box-icon name='mail-send' animation='tada' ></box-icon>
                    </div>
                    <a class="footer_desc__email_title" href="mailto:nhattan97.work@gmail.com">welcome@bravebits.co</a>
                </div>
            </div>
            <div class="footer_map">
                <a target="_blank" href="https://www.google.com/maps/place/97+%C4%90.+Man+Thi%E1%BB%87n,+Hi%E1%BB%87p+Ph%C3%BA,+Qu%E1%BA%ADn+9,+Th%C3%A0nh+ph%E1%BB%91+H%E1%BB%93+Ch%C3%AD+Minh,+Vi%E1%BB%87t+Nam/@10.8486428,106.7835031,17z/data=!3m1!4b1!4m5!3m4!1s0x31752713216a3adf:0xf8b22853eea72777!8m2!3d10.8486375!4d106.7856918?hl=vi-VN" class="footer_map__link"></a>
            </div>
        </div>
        <!-- hết footer -->
    </div>
</body>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
 <!-- Swiper JS -->
 <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
 <script src="https://unpkg.com/boxicons@2.1.2/dist/boxicons.js"></script>


<script>

    /*banner slide*/
    var swiper = new Swiper(".swiper_banner", {
    spaceBetween: 30,
    effect: "fade",
    navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
    },
    pagination: {
        el: ".swiper-pagination",
        clickable: true,
    },
    autoplay: {
    delay: 2000,
    },
    });
    /* hếtbanner slide*/

/*JS header*/

    const inputSearch = document.querySelector(".inp");
    const input = document.getElementById('filter_search');
    const arrSearch = JSON.parse(localStorage.getItem("arr-history-search"))
    var container = document.getElementsByClassName('keyword__search')[0];

    
    //Reder list keyword storage
    const renderListKeyWordAPI = (list) => {
        var html = '';
        if (list.length <= 0) {
            html += `<p>No search history...</p>`
            console.log("ashdgjhas")
        } else {
            list.map((item, index) => {
                html += `
                <div class="keyword__search__item">
                    <div class="search__item" onclick="getValueKeyWord(${item.id})">
                        <i class='bx bx-time-five'></i>
                        <p id="${item.id}">${item.title}</p>
                    </div>
                    <i class='bx bx-x' onclick="handleDelete(${item.id})"></i>
                </div>
                `
            })
        }
        document.getElementById("showKeyWord").innerHTML = html;
    }

    const getListKeywordAPi = async (kword) => {
        try {
            const res = await axios({
                method: 'get',
                url: `{{url('/')}}/api/search?key=${kword}`,
            })
            renderListKeyWordAPI(res.data)
        } catch (error) {
            console.log(error)
        }

    }

    //Debounce
    function debounce(func, timeout = 500) {
        let timer;
        return (...args) => {
            clearTimeout(timer);
            timer = setTimeout(() => {
                func.apply(this, args);
            }, timeout);
        };
    }

    const processChanges = debounce(() => getListKeywordAPi(input.value));

    //Click outside
    document.addEventListener('click', function(event) {
        if (container !== event.target && !container.contains(event.target) && input !== event.target && !input.contains(event.target)) {
            document.getElementById("keyword__search").style.visibility = "hidden"
        }
    });

    //Reder list keyword storage
    const renderListHistory = (list) => {
        var html = '';
        if (list.length <= 0) {
            html += `<p>No search history...</p>`
            console.log("ashdgjhas")
        } else {
            list.map((item, index) => {
                html += `
                <div class="keyword__search__item">
                    <div class="search__item" onclick="getValueKeyWord(${index})">
                        <i class='bx bx-time-five'></i>
                        <p id="${index}">${item}</p>
                    </div>
                    <i class='bx bx-x' onclick="handleDelete(${index})"></i>
                </div>
                `
            })
        }
        document.getElementById("showKeyWord").innerHTML = html;
    }

    //Get value keyword
    function getValueKeyWord(idx) {
        let valueKey = document.getElementById(`${idx}`).innerText;
        input.value = valueKey;
        document.getElementById("btn__submit").click()
    }

    //handle delete
    function handleDelete(idx) {
        const arrSearch = JSON.parse(localStorage.getItem("arr-history-search"))
        let valueKey = document.getElementById(`${idx}`).innerText;

        const array = arrSearch.filter((key, index) => key !== valueKey);
        localStorage.setItem("arr-history-search", JSON.stringify(array))
        renderListHistory(arrSearch)
    }

    inputSearch.addEventListener("focus", () => {
        document.getElementById("keyword__search").style.visibility = "visible"
        const arrSearch = JSON.parse(localStorage.getItem("arr-history-search"));
        renderListHistory(arrSearch)
    });


    input.addEventListener('keyup', processChanges);



    if (JSON.parse(localStorage.getItem("arr-history-search")) == null) {
        const arrHistorySearch = ["game", "avt"];
        localStorage.setItem("arr-history-search", JSON.stringify())
    }

    function handleSubmit() {
        document.getElementById("submitSearch").addEventListener("submit", (e) => {
            let valueInput = inputSearch.value;

            let newArrHistory = [];
            newArrHistory = JSON.parse(localStorage.getItem("arr-history-search"));
            if (!(newArrHistory.indexOf(valueInput) > -1)) {
                newArrHistory.push(valueInput);
            }
            localStorage.setItem("arr-history-search", JSON.stringify(newArrHistory))
        })
    }

    $(document).ready(function() {
      
      $('.search-pc input').each(function() {
        if( $(this).val().length > 0)
            $('.search-pc button').removeAttr('disabled');
      });
        
      $('.search-pc input').on('keyup', function() {
          let empty = false;
          $('.search-pc input').each(function() {
            if( $(this).val().length > 0)
              empty = true;
          });
          if (empty) {
              $('.search-pc button').removeAttr('disabled');
          } else {
              $('.search-pc button').attr('disabled', 'disabled');
          }
      });
    });
    /*hết JS header*/

   
</script>
</html>